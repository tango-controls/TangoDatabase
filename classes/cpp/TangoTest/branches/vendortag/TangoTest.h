//=============================================================================
//
// file :        TangoTest.h
//
// description : Include for the TangoTest class.
//
// project :	TANGO Device Server for testing generic clients
//
// $Author$N.Leclecq - SOLEIL
//
// $Revision$1.0  
//
// $Log$
//
// copyleft :    European Synchrotron Radiation Facility
//               BP 220, Grenoble 38043
//               FRANCE
//
//=============================================================================
//
//  		This file is generated by POGO
//	(Program Obviously used to Generate tango Object)
//
//         (c) - Software Engineering Group - ESRF
//=============================================================================
#ifndef _TANGOTEST_H
#define _TANGOTEST_H

#include <tango.h>
//using namespace Tango;

/**
 * @author  $Author$
 * @version $Revision$ $
 */

//	Add your own constants definitions here.
//-----------------------------------------------

namespace TangoTest
{

/**
 * Class Description:
 * A device to test generic clients. It offers a "echo" like command for
 *	each TANGO data type (i.e. each command returns an exact copy of <argin>).
 */

/*
 *	Device States Description:
 */


class TangoTest: public Tango::Device_2Impl
{
  friend class DataGenerator;

public :
  //  Add your own data members here
  //-----------------------------------------


  //  Here is the Start of the automatic code generation part
  //------------------------------------------------------------- 
/**
 *  @name attributes
 *  Attributs member data.
 */
//@{
		Tango::DevShort	*attr_short_scalar_ro_read;
		Tango::DevShort	*attr_short_scalar_read;
		Tango::DevShort	attr_short_scalar_write;
		Tango::DevLong	*attr_long_scalar_read;
		Tango::DevLong	attr_long_scalar_write;
		Tango::DevDouble	*attr_double_scalar_read;
		Tango::DevDouble	attr_double_scalar_write;
		Tango::DevString	*attr_string_scalar_read;
		Tango::DevString	attr_string_scalar_write;
		Tango::DevShort	*attr_short_spectrum_read;
		Tango::DevLong	*attr_long_spectrum_read;
		Tango::DevDouble	*attr_double_spectrum_read;
		Tango::DevShort	*attr_short_image_read;
		Tango::DevLong	*attr_long_image_read;
		Tango::DevDouble	*attr_double_image_read;
		Tango::DevShort	attr_short_scalar_w_write;
		Tango::DevShort	*attr_short_scalar_rww_read;
		Tango::DevLong	attr_long_scalar_w_write;
		Tango::DevLong	*attr_long_scalar_rww_read;
		Tango::DevDouble	attr_double_scalar_w_write;
		Tango::DevDouble	*attr_double_scalar_rww_read;
		Tango::DevDouble	attr_ampli_write;
		Tango::DevDouble	*attr_wave_read;
//@}

/**
 *  @name Device properties
 *  Device properties member data.
 */
//@{
//@}

/**@name Constructors
 * Miscellaneous constructors */
//@{
/**
 * Constructs a newly allocated Command object.
 *
 *	@param cl	Class.
 *	@param s 	Device Name
 */
	TangoTest(Tango::DeviceClass *,string &);
/**
 * Constructs a newly allocated Command object.
 *
 *	@param cl	Class.
 *	@param s 	Device Name
 */
	TangoTest(Tango::DeviceClass *,const char *);
/**
 * Constructs a newly allocated Command object.
 *
 *	@param cl	Class.
 *	@param s 	Device name
 *	@param d	Device description.
 */
	TangoTest(Tango::DeviceClass *,const char *,const char *);
//@}

/**@name Destructor
 * Only one desctructor is defined for this class */
//@{
/**
 * The object desctructor.
 */	
	~TangoTest();
//@}

	
/**@name Miscellaneous methods */
//@{
/**
 *	Initialize the device
 */
	virtual void init_device();
/**
 *	Initialize the device
 */
	virtual void delete_device();
/**
 *	Always executed method befor execution command method.
 */
	virtual void always_executed_hook();

//@}

/**
 * @name TangoTest methods prototypes
 */

//@{
/**
 *	Hardware acquisition for attributes.
 */
	virtual void read_attr_hardware(vector<long> &attr_list);
/**
 *	Extract real attribute values from hardware acquisition result.
 */
	virtual void read_attr(Tango::Attribute &attr);
/**
 *	Write attribute values to hardware.
 */
	virtual void write_attr_hardware(vector<long> &attr_list);
/**
 * A DevVoid comand example
 *	@exception DevFailed
 */
	void	dev_void();
/**
 * A DevBoolean comand example
 *	@param	argin	Any boolean value
 *	@return	Echo of the argin value
 *	@exception DevFailed
 */
	Tango::DevBoolean	dev_boolean(Tango::DevBoolean);
/**
 * A DevShort command example
 *	@param	argin	Any DevShort value
 *	@return	Echo of the argin value
 *	@exception DevFailed
 */
	Tango::DevShort	dev_short(Tango::DevShort);
/**
 * A DevUShort command example
 *	@param	argin	Any DevUShort value
 *	@return	Echo of the argin value
 *	@exception DevFailed
 */
	Tango::DevUShort	dev_ushort(Tango::DevUShort);
/**
 * A DevLong command example
 *	@param	argin	Any DevLong value
 *	@return	Echo of the argin value
 *	@exception DevFailed
 */
	Tango::DevLong	dev_long(Tango::DevLong);
/**
 * A DevULong command example
 *	@param	argin	Any DevULong
 *	@return	Echo of the argin value
 *	@exception DevFailed
 */
	Tango::DevULong	dev_ulong(Tango::DevULong);
/**
 * A DevFloat command example
 *	@param	argin	Any DevFloat value
 *	@return	Echo of the argin value
 *	@exception DevFailed
 */
	Tango::DevFloat	dev_float(Tango::DevFloat);
/**
 * A DevDouble command example
 *	@param	argin	Any DevDouble value
 *	@return	Echo of the argin value
 *	@exception DevFailed
 */
	Tango::DevDouble	dev_double(Tango::DevDouble);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevString	dev_string(Tango::DevString);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarCharArray	*dev_var_char_array(const Tango::DevVarCharArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarShortArray	*dev_var_short_array(const Tango::DevVarShortArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarUShortArray	*dev_var_ushort_array(const Tango::DevVarUShortArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarLongArray	*dev_var_long_array(const Tango::DevVarLongArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarULongArray	*dev_var_ulong_array(const Tango::DevVarULongArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarFloatArray	*dev_var_float_array(const Tango::DevVarFloatArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarDoubleArray	*dev_var_double_array(const Tango::DevVarDoubleArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarStringArray	*dev_var_string_array(const Tango::DevVarStringArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarLongStringArray	*dev_var_long_string_array(const Tango::DevVarLongStringArray *);
/**
 * none
 *	@param	argin	-
 *	@return	-
 *	@exception DevFailed
 */
	Tango::DevVarDoubleStringArray	*dev_var_double_string_array(const Tango::DevVarDoubleStringArray *);

/**
 *	Read the device properties from database
 */
	 void get_device_property();
//@}

	//	Here is the end of the automatic code generation part
	//-------------------------------------------------------------	

/**
 *	Generates dummy attribute values 
 */
  void gen_data (void);

protected : 
  //  Add your own data members here
  //-----------------------------------------
  // Device property: multi-threaded impl (true/false)
  short mthreaded_impl;
  // Device property: data generation period (in ms)
  long sleep_period;
  //- A mutex to protect the device against race conditions
  omni_mutex lock;
  // The data generator (thread)
  DataGenerator* data_gen;
};

}	// namespace

#endif	// _TANGOTEST_H
